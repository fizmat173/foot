import{A as u,v as V,y as C,z as T,x as b,H as v,V as x}from"./VTextField-BrV6zuLb.js";import{_ as h,q as r,a,w as l,o as i,F as y,r as L,c as p,s as g,k as m,t as c,b as k,v as P}from"./index-DnhT95W4.js";import{b as I}from"./VSelect-NaGDt1If.js";import{b as w,V as B,a as N,c as Q}from"./VCard-DsTVzcIK.js";const F={data(){return{competitions:[],selectedCompetitionId:null,teams:[],searchQuery:"",isLoading:!1,page:1,itemsPerPage:12}},computed:{filteredTeams(){const e=this.searchQuery.toLowerCase();return this.teams.filter(s=>s.name.toLowerCase().includes(e))},paginatedTeams(){const e=(this.page-1)*this.itemsPerPage;return this.filteredTeams.slice(e,e+this.itemsPerPage)},pageCount(){return Math.ceil(this.filteredTeams.length/this.itemsPerPage)}},watch:{selectedCompetitionId(e){e!=null&&e.id?this.loadTeams(e.id):this.teams=[]}},mounted(){this.loadLeagues()},methods:{loadLeagues(){this.isLoading=!0,u.get("api/v4/competitions").then(e=>{this.competitions=e.data.competitions}).catch(e=>{console.error("Ошибка при загрузке лиг:",e)}).finally(()=>{this.isLoading=!1})},loadTeams(e){this.isLoading=!0,u.get(`api/v4/competitions/${e}/teams`).then(s=>{this.teams=s.data.teams,this.page=1}).catch(s=>{console.error("Ошибка при загрузке команд:",s)}).finally(()=>{this.isLoading=!1})},goToTeam(e){this.$router.push(`/team/?id=${e}`)}}},S={class:"ma-4"},U={key:0},$=["href"];function q(e,s,f,_,o,n){return i(),r("div",S,[a(I,{modelValue:o.selectedCompetitionId,"onUpdate:modelValue":s[0]||(s[0]=t=>o.selectedCompetitionId=t),items:o.competitions,"item-title":"name","item-value":"id",label:"Выберите лигу",outlined:"",loading:o.isLoading,"return-object":"",clearable:"",class:"mb-4"},null,8,["modelValue","items","loading"]),a(V,{modelValue:o.searchQuery,"onUpdate:modelValue":s[1]||(s[1]=t=>o.searchQuery=t),label:"Поиск команды",outlined:"",clearable:"",class:"mb-4"},null,8,["modelValue"]),a(C,null,{default:l(()=>[(i(!0),r(y,null,L(n.paginatedTeams,t=>(i(),p(b,{key:t.id,cols:"12",sm:"6",md:"4"},{default:l(()=>[a(w,{class:"d-flex flex-column align-start",onClick:d=>n.goToTeam(t.id),hover:""},{default:l(()=>[a(B,{class:"d-flex align-center"},{default:l(()=>[t.crest?(i(),p(v,{key:0,size:"40",class:"me-3"},{default:l(()=>[a(x,{src:t.crest,alt:t.name},null,8,["src","alt"])]),_:2},1024)):g("",!0),m("span",null,c(t.name),1)]),_:2},1024),a(N,null,{default:l(()=>{var d;return[k(c((d=t.area)==null?void 0:d.name),1)]}),_:2},1024),a(Q,null,{default:l(()=>[t.website?(i(),r("div",U,[s[3]||(s[3]=m("strong",null,"Сайт:",-1)),m("a",{href:t.website,target:"_blank"},c(t.website),9,$)])):g("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),a(T,{modelValue:o.page,"onUpdate:modelValue":s[2]||(s[2]=t=>o.page=t),length:n.pageCount,class:"mt-4"},null,8,["modelValue","length"])])}const z=h(F,[["render",q],["__scopeId","data-v-77ae8081"]]),A={components:{Teams:z}};function j(e,s,f,_,o,n){const t=P("Teams",!0);return i(),r("div",null,[a(t)])}const R=h(A,[["render",j]]);export{R as default};
