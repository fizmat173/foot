import{x as $t,p as T,u as N,d as w,y as ce,z as Ze,A as De,B as re,C as se,I as U,g as E,h as fe,D as Y,k,a as S,l as A,E as Yt,G as $,i as j,H as ae,J as xe,K as Ht,L as Wt,M as Z,N as le,e as R,O as qe,P as be,Q as he,R as Ie,S as Me,F as ne,n as ve,b as Ce,T as ye,U as ge,t as jt,m as et,j as tt,f as at,V as oe,W as ie,X as Lt,Y as Gt,Z as me,$ as de,a0 as Kt,a1 as lt,a2 as zt,a3 as Ut,a4 as Jt,a5 as Qt}from"./index-DnhT95W4.js";import{c as nt,z as Re,B as Xt,C as Zt,D as Se,L as qt,r as $e,t as J,i as rt,p as ea,a as ta,M as st,s as Te,E as aa,b as la,d as na,e as ra,f as sa,g as ua,j as ia,k as oa,l as da,n as ca,o as fa,F as va,G as ma}from"./VTextField-BrV6zuLb.js";import{b as ut,c as pe,a as ha,d as ga}from"./VSelect-NaGDt1If.js";function Ye(e,a,l){return Object.keys(e).filter(t=>$t(t)&&t.endsWith(a)).reduce((t,n)=>(t[n.slice(0,-a.length)]=o=>e[n](o,l(o)),t),{})}const ya=nt("v-spacer","div","VSpacer"),ba=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),it=Symbol.for("vuetify:data-table-pagination");function ka(e){const a=N(e,"page",void 0,t=>Number(t??1)),l=N(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:a,itemsPerPage:l}}function xa(e){const{page:a,itemsPerPage:l,itemsLength:t}=e,n=w(()=>l.value===-1?0:l.value*(a.value-1)),o=w(()=>l.value===-1?t.value:Math.min(t.value,n.value+l.value)),i=w(()=>l.value===-1||t.value===0?1:Math.ceil(t.value/l.value));ce([a,i],()=>{a.value>i.value&&(a.value=i.value)});function s(g){l.value=g,a.value=1}function r(){a.value=De(a.value+1,1,i.value)}function u(){a.value=De(a.value-1,1,i.value)}function d(g){a.value=De(g,1,i.value)}const m={page:a,itemsPerPage:l,startIndex:n,stopIndex:o,pageCount:i,itemsLength:t,nextPage:r,prevPage:u,setPage:d,setItemsPerPage:s};return se(it,m),m}function Sa(){const e=re(it);if(!e)throw new Error("Missing pagination!");return e}function Pa(e){const a=Ze("usePaginatedItems"),{items:l,startIndex:t,stopIndex:n,itemsPerPage:o}=e,i=w(()=>o.value<=0?l.value:l.value.slice(t.value,n.value));return ce(i,s=>{a.emit("update:currentItems",s)},{immediate:!0}),{paginatedItems:i}}const ot=T({prevIcon:{type:U,default:"$prev"},nextIcon:{type:U,default:"$next"},firstIcon:{type:U,default:"$first"},lastIcon:{type:U,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),He=E()({name:"VDataTableFooter",props:ot(),setup(e,a){let{slots:l}=a;const{t}=fe(),{page:n,pageCount:o,startIndex:i,stopIndex:s,itemsLength:r,itemsPerPage:u,setItemsPerPage:d}=Sa(),m=w(()=>e.itemsPerPageOptions.map(g=>typeof g=="number"?{value:g,title:g===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(g)}:{...g,title:isNaN(Number(g.title))?t(g.title):g.title}));return Y(()=>{var h;const g=Re.filterProps(e);return k("div",{class:"v-data-table-footer"},[(h=l.prepend)==null?void 0:h.call(l),k("div",{class:"v-data-table-footer__items-per-page"},[k("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),S(ut,{items:m.value,modelValue:u.value,"onUpdate:modelValue":f=>d(Number(f)),density:"compact",variant:"outlined","hide-details":!0},null)]),k("div",{class:"v-data-table-footer__info"},[k("div",null,[t(e.pageText,r.value?i.value+1:0,s.value,r.value)])]),k("div",{class:"v-data-table-footer__pagination"},[S(Re,A({modelValue:n.value,"onUpdate:modelValue":f=>n.value=f,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:o.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},g),null)])])}),{}}}),ke=Yt({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,a)=>{let{slots:l}=a;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return S(t,{class:j(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:$(e.height),width:$(e.width),maxWidth:$(e.maxWidth),left:n==="start"?$(e.fixedOffset||null):void 0,right:n==="end"?$(e.fixedEndOffset||null):void 0}},{default:()=>{var o;return[(o=l.default)==null?void 0:o.call(l)]}})}),wa=T({headers:Array},"DataTable-header"),dt=Symbol.for("vuetify:data-table-headers"),ct={title:"",sortable:!1},Da={...ct,width:48};function Va(){const a=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,t)=>{let n=!1;for(let o=0;o<a.length;o++)if(a[o].priority>t){a.splice(o,0,{element:l,priority:t}),n=!0;break}n||a.push({element:l,priority:t})},size:()=>a.length,count:()=>{let l=0;if(!a.length)return 0;const t=Math.floor(a[0].priority);for(let n=0;n<a.length;n++)Math.floor(a[n].priority)===t&&(l+=1);return l},dequeue:()=>a.shift()}}function _e(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)a.push(e);else for(const l of e.children)_e(l,a);return a}function ft(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&a.add(l.key),l.children&&ft(l.children,a);return a}function Ca(e){if(e.key){if(e.key==="data-table-group")return ct;if(["data-table-expand","data-table-select"].includes(e.key))return Da}}function Fe(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(a,...e.children.map(l=>Fe(l,a+1))):a}function _a(e){let a=!1;function l(s,r){var m;let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(!s)return;u!=="none"&&(s.fixed=u),s.fixed===!0&&(s.fixed="start");const d=r==="start"?(m=s.children)==null?void 0:m.toReversed():s.children;if(s.fixed===r)if(d)for(const g of d)l(g,r,r);else!a&&r==="start"?s.lastFixed=!0:!a&&r==="end"?s.firstFixedEnd=!0:isNaN(Number(s.width))?Wt(`Multiple fixed columns should have a static width (key: ${s.key})`):s.minWidth=Math.max(Number(s.width)||0,Number(s.minWidth)||0),a=!0;else if(d)for(const g of d)l(g,r);else a=!1}for(const s of e.toReversed())l(s,"start");for(const s of e)l(s,"end");function t(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return r;if(s.children){s.fixedOffset=r;for(const u of s.children)r=t(u,r)}else s.fixed&&s.fixed!=="end"&&(s.fixedOffset=r,r+=parseFloat(s.width||"0")||0);return r}let n=0;for(const s of e)n=t(s,n);function o(s){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!s)return r;if(s.children){s.fixedEndOffset=r;for(const u of s.children)r=o(u,r)}else s.fixed==="end"&&(s.fixedEndOffset=r,r+=parseFloat(s.width||"0")||0);return r}let i=0;for(const s of e.toReversed())i=o(s,i)}function Ia(e,a){const l=[];let t=0;const n=Va(e);for(;n.size()>0;){let i=n.count();const s=[];let r=1;for(;i>0;){const{element:u,priority:d}=n.dequeue(),m=a-t-Fe(u);if(s.push({...u,rowspan:m??1,colspan:u.children?_e(u).length:1}),u.children)for(const g of u.children){const h=d%1+r/Math.pow(10,t+2);n.enqueue(g,t+m+h)}r+=1,i-=1}t+=1,l.push(s)}return{columns:e.map(i=>_e(i)).flat(),headers:l}}function vt(e){const a=[];for(const l of e){const t={...Ca(l),...l},n=t.key??(typeof t.value=="string"?t.value:null),o=t.value??n??null,i={...t,key:n,value:o,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?vt(t.children):void 0};a.push(i)}return a}function Ma(e,a){const l=ae([]),t=ae([]),n=ae({}),o=ae({}),i=ae({});xe(()=>{var y,v,D;const u=(e.headers||Object.keys(e.items[0]??{}).map(c=>({key:c,title:Ht(c)}))).slice(),d=ft(u);(y=a==null?void 0:a.groupBy)!=null&&y.value.length&&!d.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(v=a==null?void 0:a.showSelect)!=null&&v.value&&!d.has("data-table-select")&&u.unshift({key:"data-table-select"}),(D=a==null?void 0:a.showExpand)!=null&&D.value&&!d.has("data-table-expand")&&u.push({key:"data-table-expand"});const m=vt(u);_a(m);const g=Math.max(...m.map(c=>Fe(c)))+1,h=Ia(m,g);l.value=h.headers,t.value=h.columns;const f=h.headers.flat(1);for(const c of f)c.key&&(c.sortable&&(c.sort&&(n.value[c.key]=c.sort),c.sortRaw&&(o.value[c.key]=c.sortRaw)),c.filter&&(i.value[c.key]=c.filter))});const s={headers:l,columns:t,sortFunctions:n,sortRawFunctions:o,filterFunctions:i};return se(dt,s),s}function Pe(){const e=re(dt);if(!e)throw new Error("Missing headers!");return e}const Ta={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:a,value:l}=e;return new Set(l?[(t=a[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:a}=e;return a}},mt={showSelectAll:!0,allSelected:e=>{let{currentPage:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,currentPage:l,selected:t}=e;return mt.select({items:l,value:a,selected:t})}},ht={showSelectAll:!0,allSelected:e=>{let{allItems:a}=e;return a},select:e=>{let{items:a,value:l,selected:t}=e;for(const n of a)l?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:a,allItems:l,selected:t}=e;return ht.select({items:l,value:a,selected:t})}},pa=T({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:qe}},"DataTable-select"),gt=Symbol.for("vuetify:data-table-selection");function Fa(e,a){let{allItems:l,currentPage:t}=a;const n=N(e,"modelValue",e.modelValue,c=>new Set(Z(c).map(b=>{var _;return((_=l.value.find(C=>e.valueComparator(b,C.value)))==null?void 0:_.value)??b})),c=>[...c.values()]),o=w(()=>l.value.filter(c=>c.selectable)),i=w(()=>t.value.filter(c=>c.selectable)),s=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return Ta;case"all":return ht;case"page":default:return mt}}),r=le(null);function u(c){return Z(c).every(b=>n.value.has(b.value))}function d(c){return Z(c).some(b=>n.value.has(b.value))}function m(c,b){const _=s.value.select({items:c,value:b,selected:new Set(n.value)});n.value=_}function g(c,b,_){const C=[];if(b=b??t.value.findIndex(F=>F.value===c.value),e.selectStrategy!=="single"&&(_!=null&&_.shiftKey)&&r.value!==null){const[F,L]=[r.value,b].sort((G,I)=>G-I);C.push(...t.value.slice(F,L+1).filter(G=>G.selectable))}else C.push(c),r.value=b;m(C,!u([c]))}function h(c){const b=s.value.selectAll({value:c,allItems:o.value,currentPage:i.value,selected:new Set(n.value)});n.value=b}const f=w(()=>n.value.size>0),y=w(()=>{const c=s.value.allSelected({allItems:o.value,currentPage:i.value});return!!c.length&&u(c)}),v=R(()=>s.value.showSelectAll),D={toggleSelect:g,select:m,selectAll:h,isSelected:u,isSomeSelected:d,someSelected:f,allSelected:y,showSelectAll:v,lastSelectedIndex:r,selectStrategy:s};return se(gt,D),D}function we(){const e=re(gt);if(!e)throw new Error("Missing selection!");return e}const Oa=T({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),yt=Symbol.for("vuetify:data-table-sort");function Aa(e){const a=N(e,"sortBy"),l=R(()=>e.mustSort),t=R(()=>e.multiSort);return{sortBy:a,mustSort:l,multiSort:t}}function Ba(e){const{sortBy:a,mustSort:l,multiSort:t,page:n}=e,o=r=>{if(r.key==null)return;let u=a.value.map(m=>({...m}))??[];const d=u.find(m=>m.key===r.key);d?d.order==="desc"?l.value&&u.length===1?d.order="asc":u=u.filter(m=>m.key!==r.key):d.order="desc":t.value?u.push({key:r.key,order:"asc"}):u=[{key:r.key,order:"asc"}],a.value=u,n&&(n.value=1)};function i(r){return!!a.value.find(u=>u.key===r.key)}const s={sortBy:a,toggleSort:o,isSorted:i};return se(yt,s),s}function bt(){const e=re(yt);if(!e)throw new Error("Missing sort!");return e}function Na(e,a,l,t){const n=fe();return{sortedItems:w(()=>{var i,s;return l.value.length?Ea(a.value,l.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(i=t==null?void 0:t.sortFunctions)==null?void 0:i.value},sortRawFunctions:(s=t==null?void 0:t.sortRawFunctions)==null?void 0:s.value}):a.value})}}function Ea(e,a,l,t){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(i=>[i,t!=null&&t.transform?t.transform(i):i]).sort((i,s)=>{var r,u;for(let d=0;d<a.length;d++){let m=!1;const g=a[d].key,h=a[d].order??"asc";if(h===!1)continue;let f=be(i[1],g),y=be(s[1],g),v=i[0].raw,D=s[0].raw;if(h==="desc"&&([f,y]=[y,f],[v,D]=[D,v]),(r=t==null?void 0:t.sortRawFunctions)!=null&&r[g]){const c=t.sortRawFunctions[g](v,D);if(c==null)continue;if(m=!0,c)return c}if((u=t==null?void 0:t.sortFunctions)!=null&&u[g]){const c=t.sortFunctions[g](f,y);if(c==null)continue;if(m=!0,c)return c}if(!m&&(f instanceof Date&&y instanceof Date&&(f=f.getTime(),y=y.getTime()),[f,y]=[f,y].map(c=>c!=null?c.toString().toLocaleLowerCase():c),f!==y))return he(f)&&he(y)?0:he(f)?-1:he(y)?1:!isNaN(f)&&!isNaN(y)?Number(f)-Number(y):n.compare(f,y)}return 0}).map(i=>{let[s]=i;return s})}const kt=T({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:U,default:"$sortAsc"},sortDescIcon:{type:U,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Ie(),...Xt()},"VDataTableHeaders"),We=E()({name:"VDataTableHeaders",props:kt(),setup(e,a){let{slots:l}=a;const{t}=fe(),{toggleSort:n,sortBy:o,isSorted:i}=bt(),{someSelected:s,allSelected:r,selectAll:u,showSelectAll:d}=we(),{columns:m,headers:g}=Pe(),{loaderClasses:h}=Zt(e);function f(I,P){if(!(e.sticky||e.fixedHeader)&&!I.fixed)return;const M=typeof I.fixed=="string"?I.fixed:I.fixed?"start":"none";return{position:"sticky",left:M==="start"?$(I.fixedOffset):void 0,right:M==="end"?$(I.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${P})`:void 0}}function y(I,P){I.key==="Enter"&&!e.disableSort&&n(P)}function v(I){const P=o.value.find(M=>M.key===I.key);return P?P.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:D,backgroundColorStyles:c}=Se(()=>e.color),{displayClasses:b,mobile:_}=Me(e),C=w(()=>({headers:g.value,columns:m.value,toggleSort:n,isSorted:i,sortBy:o.value,someSelected:s.value,allSelected:r.value,selectAll:u,getSortIcon:v})),F=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},b.value,h.value]),L=I=>{let{column:P,x:M,y:B}=I;const H=P.key==="data-table-select"||P.key==="data-table-expand",K=A(e.headerProps??{},P.headerProps??{});return S(ke,A({tag:"th",align:P.align,class:[{"v-data-table__th--sortable":P.sortable&&!e.disableSort,"v-data-table__th--sorted":i(P),"v-data-table__th--fixed":P.fixed},...F.value],style:{width:$(P.width),minWidth:$(P.minWidth),maxWidth:$(P.maxWidth),...f(P,B)},colspan:P.colspan,rowspan:P.rowspan,fixed:P.fixed,nowrap:P.nowrap,lastFixed:P.lastFixed,firstFixedEnd:P.firstFixedEnd,noPadding:H,tabindex:P.sortable?0:void 0,onClick:P.sortable?()=>n(P):void 0,onKeydown:P.sortable?W=>y(W,P):void 0},K),{default:()=>{var V;const W=`header.${P.key}`,x={column:P,selectAll:u,isSorted:i,toggleSort:n,sortBy:o.value,someSelected:s.value,allSelected:r.value,getSortIcon:v};return l[W]?l[W](x):P.key==="data-table-select"?((V=l["header.data-table-select"])==null?void 0:V.call(l,x))??(d.value&&S(pe,{modelValue:r.value,indeterminate:s.value&&!r.value,"onUpdate:modelValue":u},null)):k("div",{class:"v-data-table-header__content"},[k("span",null,[P.title]),P.sortable&&!e.disableSort&&S($e,{key:"icon",class:"v-data-table-header__sort-icon",icon:v(P)},null),e.multiSort&&i(P)&&k("div",{key:"badge",class:j(["v-data-table-header__sort-badge",...D.value]),style:ve(c.value)},[o.value.findIndex(p=>p.key===P.key)+1])])}})},G=()=>{const I=w(()=>m.value.filter(M=>(M==null?void 0:M.sortable)&&!e.disableSort)),P=w(()=>{if(m.value.find(B=>B.key==="data-table-select")!=null)return r.value?"$checkboxOn":s.value?"$checkboxIndeterminate":"$checkboxOff"});return S(ke,A({tag:"th",class:[...F.value],colspan:g.value.length+1},e.headerProps),{default:()=>[k("div",{class:"v-data-table-header__content"},[S(ut,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:I.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>o.value=[],appendIcon:P.value,"onClick:append":()=>u(!r.value)},{...l,chip:M=>{var B;return S(ha,{onClick:(B=M.item.raw)!=null&&B.sortable?()=>n(M.item.raw):void 0,onMousedown:H=>{H.preventDefault(),H.stopPropagation()}},{default:()=>[M.item.title,S($e,{class:j(["v-data-table__td-sort-icon",i(M.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:v(M.item.raw),size:"small"},null)]})}})])]})};Y(()=>_.value?k("tr",null,[S(G,null,null)]):k(ne,null,[l.headers?l.headers(C.value):g.value.map((I,P)=>k("tr",null,[I.map((M,B)=>S(L,{column:M,x:B,y:P},null))])),e.loading&&k("tr",{class:"v-data-table-progress"},[k("th",{colspan:m.value.length},[S(qt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Ra=T({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),xt=Symbol.for("vuetify:data-table-group");function $a(e){return{groupBy:N(e,"groupBy")}}function Ya(e){const{disableSort:a,groupBy:l,sortBy:t}=e,n=ae(new Set),o=w(()=>l.value.map(d=>({...d,order:d.order??!1})).concat(a!=null&&a.value?[]:t.value));function i(d){return n.value.has(d.id)}function s(d){const m=new Set(n.value);i(d)?m.delete(d.id):m.add(d.id),n.value=m}function r(d){function m(g){const h=[];for(const f of g.items)"type"in f&&f.type==="group"?h.push(...m(f)):h.push(f);return[...new Set(h)]}return m({items:d})}const u={sortByWithGroups:o,toggleGroup:s,opened:n,groupBy:l,extractRows:r,isGroupOpen:i};return se(xt,u),u}function St(){const e=re(xt);if(!e)throw new Error("Missing group!");return e}function Ha(e,a){if(!e.length)return[];const l=new Map;for(const t of e){const n=be(t.raw,a);l.has(n)||l.set(n,[]),l.get(n).push(t)}return l}function Pt(e,a){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!a.length)return[];const n=Ha(e,a[0]),o=[],i=a.slice(1);return n.forEach((s,r)=>{const u=a[0],d=`${t}_${u}_${r}`;o.push({depth:l,id:d,key:u,value:r,items:i.length?Pt(s,i,l+1,d):s,type:"group"})}),o}function wt(e,a){const l=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&l.push(t),(a.has(t.id)||t.value==null)&&l.push(...wt(t.items,a))):l.push(t);return l}function Wa(e,a,l){return{flatItems:w(()=>{if(!a.value.length)return e.value;const n=Pt(e.value,a.value.map(o=>o.key));return wt(n,l.value)})}}const ja=T({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),La=E()({name:"VDataTableGroupHeaderRow",props:ja(),setup(e,a){let{slots:l}=a;const{isGroupOpen:t,toggleGroup:n,extractRows:o}=St(),{isSelected:i,isSomeSelected:s,select:r}=we(),{columns:u}=Pe(),d=w(()=>o([e.item]));return()=>k("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(m=>{var g,h;if(m.key==="data-table-group"){const f=t(e.item)?"$expand":"$next",y=()=>n(e.item);return((g=l["data-table-group"])==null?void 0:g.call(l,{item:e.item,count:d.value.length,props:{icon:f,onClick:y}}))??S(ke,{class:"v-data-table-group-header-row__column"},{default:()=>[S(J,{size:"small",variant:"text",icon:f,onClick:y},null),k("span",null,[e.item.value]),k("span",null,[Ce("("),d.value.length,Ce(")")])]})}if(m.key==="data-table-select"){const f=i(d.value),y=s(d.value)&&!f,v=D=>r(d.value,D);return((h=l["data-table-select"])==null?void 0:h.call(l,{props:{modelValue:f,indeterminate:y,"onUpdate:modelValue":v}}))??k("td",null,[S(pe,{modelValue:f,indeterminate:y,"onUpdate:modelValue":v},null)])}return k("td",null,null)})])}}),Ga=T({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Dt=Symbol.for("vuetify:datatable:expanded");function Ka(e){const a=R(()=>e.expandOnClick),l=N(e,"expanded",e.expanded,s=>new Set(s),s=>[...s.values()]);function t(s,r){const u=new Set(l.value);r?u.add(s.value):u.delete(s.value),l.value=u}function n(s){return l.value.has(s.value)}function o(s){t(s,!n(s))}const i={expand:t,expanded:l,expandOnClick:a,isExpanded:n,toggleExpand:o};return se(Dt,i),i}function Vt(){const e=re(Dt);if(!e)throw new Error("foo");return e}const za=T({index:Number,item:Object,cellProps:[Object,Function],onClick:ye(),onContextmenu:ye(),onDblclick:ye(),...Ie()},"VDataTableRow"),Ua=E()({name:"VDataTableRow",props:za(),setup(e,a){let{slots:l}=a;const{displayClasses:t,mobile:n}=Me(e,"v-data-table__tr"),{isSelected:o,toggleSelect:i,someSelected:s,allSelected:r,selectAll:u}=we(),{isExpanded:d,toggleExpand:m}=Vt(),{toggleSort:g,sortBy:h,isSorted:f}=bt(),{columns:y}=Pe();Y(()=>k("tr",{class:j(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&y.value.map((v,D)=>{const c=e.item,b=`item.${v.key}`,_=`header.${v.key}`,C={index:e.index,item:c.raw,internalItem:c,value:be(c.columns,v.key),column:v,isSelected:o,toggleSelect:i,isExpanded:d,toggleExpand:m},F={column:v,selectAll:u,isSorted:f,toggleSort:g,sortBy:h.value,someSelected:s.value,allSelected:r.value,getSortIcon:()=>""},L=typeof e.cellProps=="function"?e.cellProps({index:C.index,item:C.item,internalItem:C.internalItem,value:C.value,column:v}):e.cellProps,G=typeof v.cellProps=="function"?v.cellProps({index:C.index,item:C.item,internalItem:C.internalItem,value:C.value}):v.cellProps;return S(ke,A({align:v.align,class:{"v-data-table__td--expanded-row":v.key==="data-table-expand","v-data-table__td--select-row":v.key==="data-table-select"},fixed:v.fixed,fixedOffset:v.fixedOffset,fixedEndOffset:v.fixedEndOffset,lastFixed:v.lastFixed,firstFixedEnd:v.firstFixedEnd,maxWidth:n.value?void 0:v.maxWidth,noPadding:v.key==="data-table-select"||v.key==="data-table-expand",nowrap:v.nowrap,width:n.value?void 0:v.width},L,G),{default:()=>{var P,M,B,H;if(v.key==="data-table-select")return((P=l["item.data-table-select"])==null?void 0:P.call(l,{...C,props:{disabled:!c.selectable,modelValue:o([c]),onClick:ge(()=>i(c),["stop"])}}))??S(pe,{disabled:!c.selectable,modelValue:o([c]),onClick:ge(K=>i(c,e.index,K),["stop"])},null);if(v.key==="data-table-expand")return((M=l["item.data-table-expand"])==null?void 0:M.call(l,{...C,props:{icon:d(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:ge(()=>m(c),["stop"])}}))??S(J,{icon:d(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:ge(()=>m(c),["stop"])},null);if(l[b]&&!n.value)return l[b](C);const I=jt(C.value);return n.value?k(ne,null,[k("div",{class:"v-data-table__td-title"},[((B=l[_])==null?void 0:B.call(l,F))??v.title]),k("div",{class:"v-data-table__td-value"},[((H=l[b])==null?void 0:H.call(l,C))??I])]):I}})})]))}}),Ct=T({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ie()},"VDataTableRows"),je=E()({name:"VDataTableRows",inheritAttrs:!1,props:Ct(),setup(e,a){let{attrs:l,slots:t}=a;const{columns:n}=Pe(),{expandOnClick:o,toggleExpand:i,isExpanded:s}=Vt(),{isSelected:r,toggleSelect:u}=we(),{toggleGroup:d,isGroupOpen:m}=St(),{t:g}=fe(),{mobile:h}=Me(e);return Y(()=>{var f,y;return e.loading&&(!e.items.length||t.loading)?k("tr",{class:"v-data-table-rows-loading",key:"loading"},[k("td",{colspan:n.value.length},[((f=t.loading)==null?void 0:f.call(t))??g(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?k("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[k("td",{colspan:n.value.length},[((y=t["no-data"])==null?void 0:y.call(t))??g(e.noDataText)])]):k(ne,null,[e.items.map((v,D)=>{var _;if(v.type==="group"){const C={index:D,item:v,columns:n.value,isExpanded:s,toggleExpand:i,isSelected:r,toggleSelect:u,toggleGroup:d,isGroupOpen:m};return t["group-header"]?t["group-header"](C):S(La,A({key:`group-header_${v.id}`,item:v},Ye(l,":group-header",()=>C)),t)}const c={index:D,item:v.raw,internalItem:v,columns:n.value,isExpanded:s,toggleExpand:i,isSelected:r,toggleSelect:u},b={...c,props:A({key:`item_${v.key??v.index}`,onClick:o.value?()=>{i(v)}:void 0,index:D,item:v,cellProps:e.cellProps,mobile:h.value},Ye(l,":row",()=>c),typeof e.rowProps=="function"?e.rowProps({item:c.item,index:c.index,internalItem:c.internalItem}):e.rowProps)};return k(ne,{key:b.props.key},[t.item?t.item(b):S(Ua,b.props,t),s(v)&&((_=t["expanded-row"])==null?void 0:_.call(t,c))])})])}),{}}}),_t=T({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:e=>["even","odd"].includes(e)},...tt(),...ea(),...rt(),...et()},"VTable"),Le=E()({name:"VTable",props:_t(),setup(e,a){let{slots:l,emit:t}=a;const{themeClasses:n}=at(e),{densityClasses:o}=ta(e);return Y(()=>S(e.tag,{class:j(["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!l.top,"v-table--has-bottom":!!l.bottom,"v-table--hover":e.hover,"v-table--striped-even":e.striped==="even","v-table--striped-odd":e.striped==="odd"},n.value,o.value,e.class]),style:ve(e.style)},{default:()=>{var i,s,r;return[(i=l.top)==null?void 0:i.call(l),l.default?k("div",{class:"v-table__wrapper",style:{height:$(e.height)}},[k("table",null,[l.default()])]):(s=l.wrapper)==null?void 0:s.call(l),(r=l.bottom)==null?void 0:r.call(l)]}})),{}}}),Ja=T({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Qa(e,a,l,t){const n=e.returnObject?a:oe(a,e.itemValue),o=oe(a,e.itemSelectable,!0),i=t.reduce((s,r)=>(r.key!=null&&(s[r.key]=oe(a,r.value)),s),{});return{type:"item",key:e.returnObject?oe(a,e.itemValue):n,index:l,value:n,selectable:o,columns:i,raw:a}}function Xa(e,a,l){return a.map((t,n)=>Qa(e,t,n,l))}function Za(e,a){return{items:w(()=>Xa(e,e.items,a.value))}}function qa(e){let{page:a,itemsPerPage:l,sortBy:t,groupBy:n,search:o}=e;const i=Ze("VDataTable"),s=()=>({page:a.value,itemsPerPage:l.value,sortBy:t.value,groupBy:n.value,search:o.value});let r=null;ce(s,u=>{qe(r,u)||(r&&r.search!==u.search&&(a.value=1),i.emit("update:options",u),r=u)},{deep:!0,immediate:!0})}const el=(e,a,l)=>{if(e==null||a==null)return-1;if(!a.length)return 0;e=e.toString().toLocaleLowerCase(),a=a.toString().toLocaleLowerCase();const t=[];let n=e.indexOf(a);for(;~n;)t.push([n,n+a.length]),n=e.indexOf(a,n+a.length);return t.length?t:-1};function Ve(e,a){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+a.length]]:Array.isArray(e[0])?e:[e]}const tl=T({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function al(e,a,l){var s;const t=[],n=(l==null?void 0:l.default)??el,o=l!=null&&l.filterKeys?Z(l.filterKeys):!1,i=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return t;e:for(let r=0;r<e.length;r++){const[u,d=u]=Z(e[r]),m={},g={};let h=-1;if((a||i>0)&&!(l!=null&&l.noFilter)){if(typeof u=="object"){if(u.type==="divider"||u.type==="subheader")continue;const v=o||Object.keys(d);for(const D of v){const c=oe(d,D),b=(s=l==null?void 0:l.customKeyFilter)==null?void 0:s[D];if(h=b?b(c,a,u):n(c,a,u),h!==-1&&h!==!1)b?m[D]=Ve(h,a):g[D]=Ve(h,a);else if((l==null?void 0:l.filterMode)==="every")continue e}}else h=n(u,a,u),h!==-1&&h!==!1&&(g.title=Ve(h,a));const f=Object.keys(g).length,y=Object.keys(m).length;if(!f&&!y||(l==null?void 0:l.filterMode)==="union"&&y!==i&&!f||(l==null?void 0:l.filterMode)==="intersection"&&(y!==i||!f))continue}t.push({index:r,matches:{...g,...m}})}return t}function ll(e,a,l,t){const n=le([]),o=le(new Map),i=w(()=>t!=null&&t.transform?ie(a).map(r=>[r,t.transform(r)]):ie(a));xe(()=>{const r=typeof l=="function"?l():ie(l),u=typeof r!="string"&&typeof r!="number"?"":String(r),d=al(i.value,u,{customKeyFilter:{...e.customKeyFilter,...ie(t==null?void 0:t.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),m=ie(a),g=[],h=new Map;d.forEach(f=>{let{index:y,matches:v}=f;const D=m[y];g.push(D),h.set(D.value,v)}),n.value=g,o.value=h});function s(r){return o.value.get(r.value)}return{filteredItems:n,filteredMatches:o,getMatches:s}}const nl=T({...Ct(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Ga(),...Ra(),...wa(),...Ja(),...pa(),...Oa(),...kt(),..._t()},"DataTable"),rl=T({...ba(),...nl(),...tl(),...ot()},"VDataTable"),ml=E()({name:"VDataTable",props:rl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,a){let{attrs:l,slots:t}=a;const{groupBy:n}=$a(e),{sortBy:o,multiSort:i,mustSort:s}=Aa(e),{page:r,itemsPerPage:u}=ka(e),{disableSort:d}=Lt(e),{columns:m,headers:g,sortFunctions:h,sortRawFunctions:f,filterFunctions:y}=Ma(e,{groupBy:n,showSelect:R(()=>e.showSelect),showExpand:R(()=>e.showExpand)}),{items:v}=Za(e,m),D=R(()=>e.search),{filteredItems:c}=ll(e,v,D,{transform:ee=>ee.columns,customKeyFilter:y}),{toggleSort:b}=Ba({sortBy:o,multiSort:i,mustSort:s,page:r}),{sortByWithGroups:_,opened:C,extractRows:F,isGroupOpen:L,toggleGroup:G}=Ya({groupBy:n,sortBy:o,disableSort:d}),{sortedItems:I}=Na(e,c,_,{transform:ee=>({...ee.raw,...ee.columns}),sortFunctions:h,sortRawFunctions:f}),{flatItems:P}=Wa(I,n,C),M=w(()=>P.value.length),{startIndex:B,stopIndex:H,pageCount:K,setItemsPerPage:W}=xa({page:r,itemsPerPage:u,itemsLength:M}),{paginatedItems:x}=Pa({items:P,startIndex:B,stopIndex:H,itemsPerPage:u}),V=w(()=>F(x.value)),{isSelected:p,select:Q,selectAll:X,toggleSelect:te,someSelected:q,allSelected:O}=Fa(e,{allItems:v,currentPage:V}),{isExpanded:At,toggleExpand:Bt}=Ka(e);qa({page:r,itemsPerPage:u,sortBy:o,groupBy:n,search:D}),Gt({VDataTableRows:{hideNoData:R(()=>e.hideNoData),noDataText:R(()=>e.noDataText),loading:R(()=>e.loading),loadingText:R(()=>e.loadingText)}});const z=w(()=>({page:r.value,itemsPerPage:u.value,sortBy:o.value,pageCount:K.value,toggleSort:b,setItemsPerPage:W,someSelected:q.value,allSelected:O.value,isSelected:p,select:Q,selectAll:X,toggleSelect:te,isExpanded:At,toggleExpand:Bt,isGroupOpen:L,toggleGroup:G,items:V.value.map(ee=>ee.raw),internalItems:V.value,groupedItems:x.value,columns:m.value,headers:g.value}));return Y(()=>{const ee=He.filterProps(e),Nt=We.filterProps(e),Et=je.filterProps(e),Rt=Le.filterProps(e);return S(Le,A({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Rt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var ue;return(ue=t.top)==null?void 0:ue.call(t,z.value)},default:()=>{var ue,Oe,Ae,Be,Ne,Ee;return t.default?t.default(z.value):k(ne,null,[(ue=t.colgroup)==null?void 0:ue.call(t,z.value),!e.hideDefaultHeader&&k("thead",{key:"thead"},[S(We,Nt,t)]),(Oe=t.thead)==null?void 0:Oe.call(t,z.value),!e.hideDefaultBody&&k("tbody",null,[(Ae=t["body.prepend"])==null?void 0:Ae.call(t,z.value),t.body?t.body(z.value):S(je,A(l,Et,{items:x.value}),t),(Be=t["body.append"])==null?void 0:Be.call(t,z.value)]),(Ne=t.tbody)==null?void 0:Ne.call(t,z.value),(Ee=t.tfoot)==null?void 0:Ee.call(t,z.value)])},bottom:()=>t.bottom?t.bottom(z.value):!e.hideDefaultFooter&&k(ne,null,[S(ga,null,null),S(He,ee,{prepend:t["footer.prepend"]})])})}),{}}}),It=T({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:U,default:"$next"},prevIcon:{type:U,default:"$prev"},modeIcon:{type:U,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Ge=E()({name:"VDatePickerControls",props:It(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,a){let{emit:l}=a;const t=w(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),n=w(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),o=w(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),i=w(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function s(){l("click:prev")}function r(){l("click:next")}function u(){l("click:year")}function d(){l("click:month")}return Y(()=>k("div",{class:j(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":$(e.controlHeight)}},[S(J,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:t.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),S(J,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:n.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:u},null),S(ya,null,null),k("div",{class:"v-date-picker-controls__month"},[S(J,{"data-testid":"prev-month",disabled:o.value,density:"comfortable",icon:e.prevIcon,variant:"text",onClick:s},null),S(J,{"data-testid":"next-month",disabled:i.value,icon:e.nextIcon,density:"comfortable",variant:"text",onClick:r},null)])])),{}}}),sl=T({appendIcon:U,color:String,header:String,transition:String,onClick:ye()},"VDatePickerHeader"),Ke=E()({name:"VDatePickerHeader",props:sl(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,a){let{emit:l,slots:t}=a;const{backgroundColorClasses:n,backgroundColorStyles:o}=Se(()=>e.color);function i(){l("click")}function s(){l("click:append")}return Y(()=>{const r=!!(t.default||e.header),u=!!(t.append||e.appendIcon);return k("div",{class:j(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},n.value]),style:ve(o.value),onClick:i},[t.prepend&&k("div",{key:"prepend",class:"v-date-picker-header__prepend"},[t.prepend()]),r&&S(st,{key:"content",name:e.transition},{default:()=>{var d;return[k("div",{key:e.header,class:"v-date-picker-header__content"},[((d=t.default)==null?void 0:d.call(t))??e.header])]}}),u&&k("div",{class:"v-date-picker-header__append"},[t.append?S(Te,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=t.append)==null?void 0:d.call(t)]}}):S(J,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:s},null)])])}),{}}}),ul=T({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function il(e){const a=me(),l=N(e,"modelValue",[],h=>Z(h).map(f=>a.date(f))),t=w(()=>e.displayValue?a.date(e.displayValue):l.value.length>0?a.date(l.value[0]):e.min?a.date(e.min):Array.isArray(e.allowedDates)?a.date(e.allowedDates[0]):a.date()),n=N(e,"year",void 0,h=>{const f=h!=null?Number(h):a.getYear(t.value);return a.startOfYear(a.setYear(a.date(),f))},h=>a.getYear(h)),o=N(e,"month",void 0,h=>{const f=h!=null?Number(h):a.getMonth(t.value),y=a.setYear(a.startOfMonth(a.date()),a.getYear(n.value));return a.setMonth(y,f)},h=>a.getMonth(h)),i=w(()=>{const h=a.toJsDate(a.startOfWeek(a.date(),e.firstDayOfWeek)).getDay();return a.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((f,y)=>e.weekdays.includes((y+h)%7))}),s=w(()=>{const h=a.getWeekArray(o.value,e.firstDayOfWeek),f=h.flat(),y=6*7;if(e.weeksInMonth==="static"&&f.length<y){const v=f[f.length-1];let D=[];for(let c=1;c<=y-f.length;c++)D.push(a.addDays(v,c)),c%7===0&&(h.push(D),D=[])}return h});function r(h,f){return h.filter(y=>e.weekdays.includes(a.toJsDate(y).getDay())).map((y,v)=>{const D=a.toISO(y),c=!a.isSameMonth(y,o.value),b=a.isSameDay(y,a.startOfMonth(o.value)),_=a.isSameDay(y,a.endOfMonth(o.value)),C=a.isSameDay(y,o.value),F=e.weekdays.length;return{date:y,formatted:a.format(y,"keyboardDate"),isAdjacent:c,isDisabled:g(y),isEnd:_,isHidden:c&&!e.showAdjacentMonths,isSame:C,isSelected:l.value.some(L=>a.isSameDay(y,L)),isStart:b,isToday:a.isSameDay(y,f),isWeekEnd:v%F===F-1,isWeekStart:v%F===0,isoDate:D,localized:a.format(y,"dayOfMonth"),month:a.getMonth(y),year:a.getYear(y)}})}const u=w(()=>{const h=a.startOfWeek(t.value,e.firstDayOfWeek),f=[];for(let v=0;v<=6;v++)f.push(a.addDays(h,v));const y=a.date();return r(f,y)}),d=w(()=>{const h=s.value.flat(),f=a.date();return r(h,f)}),m=w(()=>s.value.map(h=>h.length?a.getWeek(h[0],e.firstDayOfWeek):null));function g(h){if(e.disabled)return!0;const f=a.date(h);return e.min&&a.isAfter(a.date(e.min),f)||e.max&&a.isAfter(f,a.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(y=>a.isSameDay(a.date(y),f)):typeof e.allowedDates=="function"?!e.allowedDates(f):!1}return{displayValue:t,daysInMonth:d,daysInWeek:u,genDays:r,model:l,weeksInMonth:s,weekdayLabels:i,weekNumbers:m}}const Mt=T({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...de(ul(),["displayValue"])},"VDatePickerMonth"),ze=E()({name:"VDatePickerMonth",props:Mt(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,a){let{emit:l,slots:t}=a;const n=ae(),{daysInMonth:o,model:i,weekNumbers:s,weekdayLabels:r}=il(e),u=me(),d=le(),m=le(),g=le(!1),h=R(()=>g.value?e.reverseTransition:e.transition);e.multiple==="range"&&i.value.length>0&&(d.value=i.value[0],i.value.length>1&&(m.value=i.value[i.value.length-1]));const f=w(()=>{const c=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return i.value.length>=c});ce(o,(c,b)=>{b&&(g.value=u.isBefore(c[0].date,b[0].date))});function y(c){const b=u.startOfDay(c);if(i.value.length===0?d.value=void 0:i.value.length===1&&(d.value=i.value[0],m.value=void 0),!d.value)d.value=b,i.value=[d.value];else if(m.value)d.value=c,m.value=void 0,i.value=[d.value];else{if(u.isSameDay(b,d.value)){d.value=void 0,i.value=[];return}else u.isBefore(b,d.value)?(m.value=u.endOfDay(d.value),d.value=b):m.value=u.endOfDay(b);i.value=Kt(u,d.value,m.value)}}function v(c){const b=i.value.findIndex(_=>u.isSameDay(_,c));if(b===-1)i.value=[...i.value,c];else{const _=[...i.value];_.splice(b,1),i.value=_}}function D(c){e.multiple==="range"?y(c):e.multiple?v(c):i.value=[c]}Y(()=>k("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&k("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&k("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Ce("Â ")]),s.value.map(c=>k("div",{class:j(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[c]))]),S(st,{name:h.value},{default:()=>{var c;return[k("div",{ref:n,key:(c=o.value[0].date)==null?void 0:c.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&r.value.map(b=>k("div",{class:j(["v-date-picker-month__day","v-date-picker-month__weekday"])},[b])),o.value.map((b,_)=>{var F;const C={props:{class:"v-date-picker-month__day-btn",color:b.isSelected||b.isToday?e.color:void 0,disabled:b.isDisabled,icon:!0,ripple:!1,text:b.localized,variant:b.isSelected?"flat":b.isToday?"outlined":"text",onClick:()=>D(b.date)},item:b,i:_};return f.value&&!b.isSelected&&(b.isDisabled=!0),k("div",{class:j(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":b.isAdjacent,"v-date-picker-month__day--hide-adjacent":b.isHidden,"v-date-picker-month__day--selected":b.isSelected,"v-date-picker-month__day--week-end":b.isWeekEnd,"v-date-picker-month__day--week-start":b.isWeekStart}]),"data-v-date":b.isDisabled?void 0:b.isoDate},[(e.showAdjacentMonths||!b.isAdjacent)&&(((F=t.day)==null?void 0:F.call(t,C))??S(J,C.props,null))])})])]}})]))}}),Tt=T({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),Ue=E()({name:"VDatePickerMonths",props:Tt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:l,slots:t}=a;const n=me(),o=N(e,"modelValue"),i=w(()=>{let r=n.startOfYear(n.date());return e.year&&(r=n.setYear(r,e.year)),lt(12).map(u=>{const d=n.format(r,"monthShort"),m=!!(!s(u)||e.min&&n.isAfter(n.startOfMonth(n.date(e.min)),r)||e.max&&n.isAfter(r,n.startOfMonth(n.date(e.max))));return r=n.getNextMonth(r),{isDisabled:m,text:d,value:u}})});xe(()=>{o.value=o.value??n.getMonth(n.date())});function s(r){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(r):typeof e.allowedMonths=="function"?e.allowedMonths(r):!0}return Y(()=>k("div",{class:"v-date-picker-months",style:{height:$(e.height)}},[k("div",{class:"v-date-picker-months__content"},[i.value.map((r,u)=>{var g;const d={active:o.value===u,color:o.value===u?e.color:void 0,disabled:r.isDisabled,rounded:!0,text:r.text,variant:o.value===r.value?"flat":"text",onClick:()=>m(u)};function m(h){if(o.value===h){l("update:modelValue",o.value);return}o.value=h}return((g=t.month)==null?void 0:g.call(t,{month:r,i:u,props:d}))??S(J,A({key:"month"},d),null)})])])),{}}}),pt=T({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),Je=E()({name:"VDatePickerYears",props:pt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:l,slots:t}=a;const n=me(),o=N(e,"modelValue"),i=w(()=>{const u=n.getYear(n.date());let d=u-100,m=u+52;e.min&&(d=n.getYear(n.date(e.min))),e.max&&(m=n.getYear(n.date(e.max)));let g=n.startOfYear(n.date());return g=n.setYear(g,d),lt(m-d+1,d).map(h=>{const f=n.format(g,"year");return g=n.setYear(g,n.getYear(g)+1),{text:f,value:h,isDisabled:!r(h)}})});xe(()=>{o.value=o.value??n.getYear(n.date())});const s=zt();Ut(async()=>{var u;await Jt(),(u=s.el)==null||u.focus()});function r(u){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(u):typeof e.allowedYears=="function"?e.allowedYears(u):!0}return Y(()=>k("div",{class:"v-date-picker-years",style:{height:$(e.height)}},[k("div",{class:"v-date-picker-years__content"},[i.value.map((u,d)=>{var g;const m={ref:o.value===u.value?s:void 0,active:o.value===u.value,color:o.value===u.value?e.color:void 0,rounded:!0,text:u.text,disabled:u.isDisabled,variant:o.value===u.value?"flat":"text",onClick:()=>{if(o.value===u.value){l("update:modelValue",o.value);return}o.value=u.value}};return((g=t.year)==null?void 0:g.call(t,{year:u,i:d,props:m}))??S(J,A({key:"month"},m),null)})])])),{}}}),ol=nt("v-picker-title"),Ft=T({color:String,...va(),...tt(),...fa(),...ca(),...da(),...oa(),...ia(),...rt(),...et()},"VSheet"),Qe=E()({name:"VSheet",props:Ft(),setup(e,a){let{slots:l}=a;const{themeClasses:t}=at(e),{backgroundColorClasses:n,backgroundColorStyles:o}=Se(()=>e.color),{borderClasses:i}=aa(e),{dimensionStyles:s}=la(e),{elevationClasses:r}=na(e),{locationStyles:u}=ra(e),{positionClasses:d}=sa(e),{roundedClasses:m}=ua(e);return Y(()=>S(e.tag,{class:j(["v-sheet",t.value,n.value,i.value,r.value,d.value,m.value,e.class]),style:ve([o.value,s.value,u.value,e.style])},l)),{}}}),Ot=T({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,...Ft()},"VPicker"),Xe=E()({name:"VPicker",props:Ot(),setup(e,a){let{slots:l}=a;const{backgroundColorClasses:t,backgroundColorStyles:n}=Se(()=>e.color);return Y(()=>{const o=Qe.filterProps(e),i=!!(e.title||l.title);return S(Qe,A(o,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!l.actions},e.class],style:e.style}),{default:()=>{var s;return[!e.hideHeader&&k("div",{key:"header",class:j([t.value]),style:ve([n.value])},[i&&S(ol,{key:"picker-title"},{default:()=>{var r;return[((r=l.title)==null?void 0:r.call(l))??e.title]}}),l.header&&k("div",{class:"v-picker__header"},[l.header()])]),k("div",{class:"v-picker__body"},[(s=l.default)==null?void 0:s.call(l)]),l.actions&&S(Te,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[k("div",{class:"v-picker__actions"},[l.actions()])]})]}})}),{}}}),dl=T({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...It(),...Mt({weeksInMonth:"static"}),...de(Tt(),["modelValue"]),...de(pt(),["modelValue"]),...Ot({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),hl=E()({name:"VDatePicker",props:dl(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,a){let{emit:l,slots:t}=a;const n=me(),{t:o}=fe(),{rtlClasses:i}=Qt(),s=N(e,"modelValue",void 0,x=>Z(x).map(V=>n.date(V)),x=>e.multiple?x:x[0]),r=N(e,"viewMode"),u=w(()=>{const x=n.date(e.min);return e.min&&n.isValid(x)?x:null}),d=w(()=>{const x=n.date(e.max);return e.max&&n.isValid(x)?x:null}),m=w(()=>{var p;const x=n.date();let V=x;return(p=s.value)!=null&&p[0]?V=n.date(s.value[0]):u.value&&n.isBefore(x,u.value)?V=u.value:d.value&&n.isAfter(x,d.value)&&(V=d.value),V&&n.isValid(V)?V:x}),g=R(()=>e.headerColor??e.color),h=N(e,"month"),f=w({get:()=>Number(h.value??n.getMonth(n.startOfMonth(m.value))),set:x=>h.value=x}),y=N(e,"year"),v=w({get:()=>Number(y.value??n.getYear(n.startOfYear(n.setMonth(m.value,f.value)))),set:x=>y.value=x}),D=le(!1),c=w(()=>e.multiple&&s.value.length>1?o("$vuetify.datePicker.itemsSelected",s.value.length):s.value[0]&&n.isValid(s.value[0])?n.format(n.date(s.value[0]),"normalDateWithWeekday"):o(e.header)),b=w(()=>{let x=n.date();return x=n.setDate(x,1),x=n.setMonth(x,f.value),x=n.setYear(x,v.value),n.format(x,"monthAndYear")}),_=R(()=>`date-picker-header${D.value?"-reverse":""}-transition`),C=w(()=>{if(e.disabled)return!0;const x=[];if(r.value!=="month")x.push("prev","next");else{let V=n.date();if(V=n.startOfMonth(V),V=n.setMonth(V,f.value),V=n.setYear(V,v.value),u.value){const p=n.addDays(n.startOfMonth(V),-1);n.isAfter(u.value,p)&&x.push("prev")}if(d.value){const p=n.addDays(n.endOfMonth(V),1);n.isAfter(p,d.value)&&x.push("next")}}return x});function F(x,V){const p=e.allowedDates;if(typeof p!="function")return!0;const Q=n.getDiff(V,x,"days");for(let X=0;X<Q;X++)if(p(n.addDays(x,X)))return!0;return!1}function L(x){if(typeof e.allowedDates=="function"){const V=n.parseISO(`${x}-01-01`);return F(V,n.endOfYear(V))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const V of e.allowedDates)if(n.getYear(n.date(V))===x)return!0;return!1}return!0}function G(x){if(typeof e.allowedDates=="function"){const V=String(x+1).padStart(2,"0"),p=n.parseISO(`${v.value}-${V}-01`);return F(p,n.endOfMonth(p))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const V of e.allowedDates)if(n.getYear(n.date(V))===v.value&&n.getMonth(n.date(V))===x)return!0;return!1}return!0}function I(){f.value<11?f.value++:(v.value++,f.value=0,W()),K()}function P(){f.value>0?f.value--:(v.value--,f.value=11,W()),K()}function M(){r.value="month"}function B(){r.value=r.value==="months"?"month":"months"}function H(){r.value=r.value==="year"?"month":"year"}function K(){r.value==="months"&&B()}function W(){r.value==="year"&&H()}return ce(s,(x,V)=>{const p=Z(V),Q=Z(x);if(!Q.length)return;const X=n.date(p[p.length-1]),te=n.date(Q[Q.length-1]),q=n.getMonth(te),O=n.getYear(te);q!==f.value&&(f.value=q,K()),O!==v.value&&(v.value=O,W()),D.value=n.isBefore(X,te)}),Y(()=>{const x=Xe.filterProps(e),V=Ge.filterProps(e),p=Ke.filterProps(e),Q=ze.filterProps(e),X=de(Ue.filterProps(e),["modelValue"]),te=de(Je.filterProps(e),["modelValue"]),q={color:g.value,header:c.value,transition:_.value};return S(Xe,A(x,{color:g.value,class:["v-date-picker",`v-date-picker--${r.value}`,{"v-date-picker--show-week":e.showWeek},i.value,e.class],style:e.style}),{title:()=>{var O;return((O=t.title)==null?void 0:O.call(t))??k("div",{class:"v-date-picker__title"},[o(e.title)])},header:()=>t.header?S(Te,{defaults:{VDatePickerHeader:{...q}}},{default:()=>{var O;return[(O=t.header)==null?void 0:O.call(t,q)]}}):S(Ke,A({key:"header"},p,q,{onClick:r.value!=="month"?M:void 0}),{prepend:t.prepend,append:t.append}),default:()=>k(ne,null,[S(Ge,A(V,{disabled:C.value,text:b.value,"onClick:next":I,"onClick:prev":P,"onClick:month":B,"onClick:year":H}),null),S(ma,{hideOnLeave:!0},{default:()=>[r.value==="months"?S(Ue,A({key:"date-picker-months"},X,{modelValue:f.value,"onUpdate:modelValue":[O=>f.value=O,K],min:u.value,max:d.value,year:v.value,allowedMonths:G}),{month:t.month}):r.value==="year"?S(Je,A({key:"date-picker-years"},te,{modelValue:v.value,"onUpdate:modelValue":[O=>v.value=O,W],min:u.value,max:d.value,allowedYears:L}),{year:t.year}):S(ze,A({key:"date-picker-month"},Q,{modelValue:s.value,"onUpdate:modelValue":O=>s.value=O,month:f.value,"onUpdate:month":[O=>f.value=O,K],year:v.value,"onUpdate:year":[O=>v.value=O,W],min:u.value,max:d.value}),{day:t.day})]})]),actions:t.actions})}),{}}});export{ml as V,hl as a};
